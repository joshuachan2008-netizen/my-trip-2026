<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å—ç¾å¤§å†’éšª 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #d97b56;
            --secondary-color: #2c3e50;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --light-text: #888;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            color: var(--text-color);
            padding-bottom: 90px;
        }

        /* Banner & Tabs (Fixed Top) */
        .top-container {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: var(--bg-color);
        }

        .banner {
            height: 180px; /* ç¨å¾®ç¸®å°ä¸€é»ä»¥ç•™ç©ºé–“çµ¦å…§å®¹ */
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1587595431973-160d0d94add1?q=80&w=2076');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        .banner h1 { margin: 0; font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .trip-stats { font-size: 13px; opacity: 0.9; margin-top: 5px; display: flex; gap: 10px;}

        .date-tabs {
            display: flex;
            overflow-x: auto;
            padding: 10px 16px;
            gap: 8px;
            background: var(--bg-color);
            scrollbar-width: none;
            box-shadow: 0 4px 10px -5px rgba(0,0,0,0.1);
        }
        .date-tabs::-webkit-scrollbar { display: none; }
        .date-tab {
            background: white;
            border-radius: 12px;
            padding: 8px 16px;
            text-align: center;
            min-width: 50px;
            flex-shrink: 0;
            font-size: 14px;
            color: #666;
            border: 1px solid transparent;
            cursor: pointer;
        }
        .date-tab.active {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(217, 123, 86, 0.3);
        }
        .date-tab .day { font-size: 11px; margin-bottom: 2px; opacity: 0.8; }

        /* Timeline Styles */
        .day-anchor {
            scroll-margin-top: 240px; /* é—œéµï¼šé€™æ˜¯ä¿®æ­£è·³è½‰ä¸æº–ç¢ºçš„è¨­å®š */
        }
        .day-header {
            margin: 24px 20px 10px;
            font-weight: 800;
            font-size: 18px;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        .day-header::before {
            content: ''; width: 4px; height: 18px; background: var(--primary-color);
            margin-right: 10px; border-radius: 2px;
        }

        .timeline-item { display: flex; margin: 0 16px 16px; }
        .timeline-time { min-width: 45px; font-weight: 600; font-size: 13px; color: #999; padding-top: 14px; text-align: right; margin-right: 12px; }
        .activity-card {
            background: white; border-radius: 16px; padding: 16px; flex-grow: 1;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03); position: relative;
            border-left: 4px solid #eee;
        }
        .type-flight { border-left-color: #2196f3; }
        .type-stay { border-left-color: #9c27b0; }
        .type-activity { border-left-color: #4caf50; }
        
        .activity-title { font-weight: 700; font-size: 16px; margin-bottom: 4px; }
        .activity-desc { font-size: 13px; color: #666; }
        .activity-cost {
            position: absolute; top: 12px; right: 12px;
            font-size: 12px; font-weight: bold; color: var(--primary-color);
            background: #fff5eb; padding: 2px 6px; border-radius: 4px;
        }

        /* Currency Page Styles */
        .calc-container { padding: 20px; }
        .calc-card {
            background: white; border-radius: 20px; padding: 24px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center;
        }
        .calc-title { font-size: 18px; font-weight: bold; color: var(--secondary-color); margin-bottom: 20px; }
        .input-group { margin-bottom: 20px; text-align: left; }
        .input-label { font-size: 12px; color: #888; margin-bottom: 5px; display: block; }
        
        .currency-input {
            width: 100%; box-sizing: border-box; padding: 12px; font-size: 24px;
            border: 2px solid #eee; border-radius: 12px; outline: none; font-weight: bold;
        }
        .currency-input:focus { border-color: var(--primary-color); }
        
        .currency-select {
            width: 100%; padding: 12px; font-size: 16px; margin-top: 10px;
            border-radius: 12px; border: 1px solid #ddd; background: #f9f9f9;
        }

        .result-box {
            background: #f0fdf4; border-radius: 16px; padding: 20px; margin-top: 20px;
        }
        .result-label { font-size: 13px; color: #166534; }
        .result-amount { font-size: 32px; font-weight: 800; color: #166534; margin: 5px 0; }
        .exchange-rate-display { font-size: 12px; color: #888; margin-top: 10px; }

        /* Navigation */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: rgba(255,255,255,0.98);
            border-top: 1px solid #eee; display: flex; justify-content: space-around;
            padding: 10px 0 25px; z-index: 2000;
        }
        .nav-item { text-align: center; color: #bbb; font-size: 10px; cursor: pointer; }
        .nav-item.active { color: var(--primary-color); }
        .nav-item i { display: block; font-size: 22px; margin-bottom: 4px; }

        .fab {
            position: fixed; bottom: 90px; right: 20px;
            background: var(--primary-color); color: white;
            width: 56px; height: 56px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; box-shadow: 0 4px 12px rgba(217, 123, 86, 0.4);
            z-index: 1500; cursor: pointer; transition: transform 0.1s;
        }
        .fab:active { transform: scale(0.9); }

        .page { display: none; padding-bottom: 20px; }
        .page.active { display: block; }
    </style>
</head>
<body>

    <div id="itinerary-page" class="page active">
        <div class="top-container">
            <div class="banner">
                <h1>South America 2026</h1>
                <div class="trip-stats">
                    <span><i class="fas fa-calendar"></i> 88 Days</span>
                    <span><i class="fas fa-user-friends"></i> 4 Pax</span>
                </div>
            </div>
            <div class="date-tabs" id="dateTabs"></div>
        </div>

        <div id="itinerary-content">
            </div>
    </div>

    <div id="currency-page" class="page">
        <div style="padding: 20px; background: white; border-bottom: 1px solid #eee;">
            <h2 style="margin:0; color:var(--secondary-color);">åŒ¯ç‡æ›ç®—</h2>
        </div>
        
        <div class="calc-container">
            <div class="calc-card">
                <div class="input-group">
                    <label class="input-label">è¼¸å…¥ç•¶åœ°é‡‘é¡</label>
                    <input type="number" id="calcInput" class="currency-input" placeholder="0" oninput="calculate()">
                    
                    <select id="currencySelect" class="currency-select" onchange="calculate()">
                        <option value="0.38">ğŸ‡²ğŸ‡½ å¢¨è¥¿å“¥æŠ«ç´¢ (MXN)</option>
                        <option value="1.35">ğŸ‡§ğŸ‡· å·´è¥¿é›·äºçˆ¾ (BRL)</option>
                        <option value="7.80">ğŸ‡ºğŸ‡¸ ç¾é‡‘ (USD)</option>
                        <option value="0.008">ğŸ‡¨ğŸ‡± æ™ºåˆ©æ¯”ç´¢ (CLP)</option>
                    </select>
                </div>

                <div class="result-box">
                    <div class="result-label">ç­‰æ–¼æ¸¯å¹£</div>
                    <div class="result-amount">HK$ <span id="calcResult">0.00</span></div>
                </div>

                <div class="exchange-rate-display">
                    åƒè€ƒåŒ¯ç‡: 1 <span id="curName">MXN</span> â‰ˆ HK$ <span id="curRate">0.38</span>
                </div>
            </div>

            <div style="margin-top: 20px; color: #888; font-size: 12px; text-align: center;">
                * åŒ¯ç‡åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›æ‰£æ¬¾è¦–ä¹éŠ€è¡Œ
            </div>
        </div>
    </div>

    <div id="bookings-page" class="page">
        <div style="padding: 20px;"><h2 style="color:#333">æˆ‘çš„é è¨‚</h2><p>é€™è£¡æ˜¯é è¨‚åˆ—è¡¨...</p></div>
    </div>

    <div class="fab" onclick="addNewItem()"><i class="fas fa-plus"></i></div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchPage('itinerary')">
            <i class="fas fa-map-marked-alt"></i>è¡Œç¨‹
        </div>
        <div class="nav-item" onclick="switchPage('bookings')">
            <i class="fas fa-ticket-alt"></i>é è¨‚
        </div>
        <div class="nav-item" onclick="switchPage('currency')">
            <i class="fas fa-calculator"></i>åŒ¯ç‡
        </div>
    </div>

<script>
    // 1. è³‡æ–™åº« (å¯åœ¨æ­¤ä¿®æ”¹)
    let itineraryData = [
        { date: "2026-01-28", time: "14:00", title: "æŠµé” Loreto & å–è»Š", type: "transport", cost: "$540", desc: "Alamo ç§Ÿè»Š" },
        { date: "2026-01-29", time: "08:00", title: "ç§äººåŒ…èˆ¹çœ‹ç°é¯¨", type: "activity", cost: "$4400", desc: "4äºº Max" },
        { date: "2026-02-01", time: "08:25", title: "é£›å¾€ å¢¨è¥¿å“¥åŸ", type: "flight", cost: "$1388", desc: "AM 363" },
        { date: "2026-02-04", time: "09:00", title: "é‡‘å­—å¡”ä¸€æ—¥éŠ", type: "activity", cost: "", desc: "Teotihuacan" },
        { date: "2026-02-15", time: "12:35", title: "é£›å¾€ è–ä¿ç¾…", type: "flight", cost: "", desc: "AA264" },
        { date: "2026-03-26", time: "06:50", title: "é£›å¾€ ä¼Šç“œè˜‡", type: "flight", cost: "$874", desc: "JetSmart" }
    ];

    // 2. åˆå§‹åŒ–
    function init() {
        generateDateTabs();
        renderItinerary();
    }

    // ç”Ÿæˆæ—¥æœŸæŒ‰éˆ•
    function generateDateTabs() {
        const container = document.getElementById('dateTabs');
        container.innerHTML = '';
        const startDate = new Date('2026-01-28');
        const endDate = new Date('2026-04-02');
        let curr = startDate;

        while (curr <= endDate) {
            const dateStr = curr.toISOString().split('T')[0];
            const displayDate = `${curr.getDate()}/${curr.getMonth()+1}`;
            const tab = document.createElement('div');
            tab.className = 'date-tab';
            tab.innerText = displayDate;
            tab.onclick = () => scrollToDate(dateStr, tab);
            container.appendChild(tab);
            curr.setDate(curr.getDate() + 1);
        }
    }

    // æ¸²æŸ“è¡Œç¨‹ (æ”¯æ´æ–°å¢å…§å®¹)
    function renderItinerary() {
        const container = document.getElementById('itinerary-content');
        container.innerHTML = '';
        
        // æŒ‰æ—¥æœŸæ’åº
        itineraryData.sort((a,b) => new Date(a.date + 'T' + a.time) - new Date(b.date + 'T' + b.time));
        
        let lastDate = '';

        itineraryData.forEach(item => {
            if (item.date !== lastDate) {
                const header = document.createElement('div');
                header.className = 'day-header day-anchor'; // day-anchor ç”¨æ–¼å®šä½
                header.id = `date-${item.date}`;
                header.innerText = item.date;
                container.appendChild(header);
                lastDate = item.date;
            }

            let borderClass = 'type-activity';
            if (item.type === 'flight') borderClass = 'type-flight';
            if (item.type === 'stay') borderClass = 'type-stay';

            const card = document.createElement('div');
            card.className = 'timeline-item';
            card.innerHTML = `
                <div class="timeline-time">${item.time}</div>
                <div class="activity-card ${borderClass}">
                    ${item.cost ? `<div class="activity-cost">${item.cost}</div>` : ''}
                    <div class="activity-title">${item.title}</div>
                    <div class="activity-desc">${item.desc}</div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // 3. ä¿®æ­£æ—¥æœŸè·³è½‰ (ç²¾æº–å®šä½)
    function scrollToDate(dateStr, tabElement) {
        // é»æ“Šé«˜äº®
        document.querySelectorAll('.date-tab').forEach(t => t.classList.remove('active'));
        if(tabElement) tabElement.classList.add('active');

        const element = document.getElementById(`date-${dateStr}`);
        if (element) {
            // è¨ˆç®— Header é«˜åº¦ (å‹•æ…‹ç²å–)
            const headerOffset = 250; 
            const elementPosition = element.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({ top: offsetPosition, behavior: "smooth" });
        } else {
            alert("ç•¶å¤©æ²’æœ‰è¡Œç¨‹ï¼");
        }
    }

    // 4. æ–°å¢è¡Œç¨‹ (+ è™ŸåŠŸèƒ½)
    function addNewItem() {
        // ç°¡å–®çš„ Prompt è¼¸å…¥ (å› ç‚ºæ²’æœ‰å¾Œå°ï¼Œé€™æœ€ç°¡å–®æœ‰æ•ˆ)
        const title = prompt("è«‹è¼¸å…¥æ´»å‹•åç¨±:", "åƒå¤§é¤");
        if (!title) return;
        
        const date = prompt("æ—¥æœŸ (YYYY-MM-DD):", "2026-01-28");
        const time = prompt("æ™‚é–“ (HH:MM):", "19:00");
        const cost = prompt("è²»ç”¨ (é¸å¡«):", "");

        // æ¨å…¥è³‡æ–™åº«
        itineraryData.push({
            date: date,
            time: time,
            title: title,
            type: "activity",
            cost: cost ? `$${cost}` : "",
            desc: "æ–°å¢çš„é …ç›®"
        });

        // é‡æ–°æ¸²æŸ“
        renderItinerary();
        
        // è‡ªå‹•è·³è½‰åˆ°æ–°å¢çš„é‚£ä¸€å¤©
        setTimeout(() => scrollToDate(date), 100);
        
        alert("æ–°å¢æˆåŠŸï¼(æ³¨æ„ï¼šåˆ·æ–°é é¢å¾Œæœƒæ¶ˆå¤±)");
    }

    // 5. åŒ¯ç‡è¨ˆç®—æ©Ÿé‚è¼¯
    function calculate() {
        const amount = parseFloat(document.getElementById('calcInput').value) || 0;
        const rate = parseFloat(document.getElementById('currencySelect').value);
        const result = amount * rate;
        
        // æ›´æ–°é¡¯ç¤º
        document.getElementById('calcResult').innerText = result.toFixed(2);
        
        // æ›´æ–°åƒè€ƒåŒ¯ç‡æ–‡å­—
        const select = document.getElementById('currencySelect');
        const curText = select.options[select.selectedIndex].text.split(' ')[1]; // å–å¾— (MXN)
        document.getElementById('curName').innerText = curText;
        document.getElementById('curRate').innerText = rate;
    }

    // 6. é é¢åˆ‡æ›
    function switchPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId + '-page').classList.add('active');
        
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        
        // ç°¡å–®åˆ‡æ› Active Class
        const icons = document.querySelectorAll('.nav-item');
        if(pageId === 'itinerary') icons[0].classList.add('active');
        if(pageId === 'bookings') icons[1].classList.add('active');
        if(pageId === 'currency') icons[2].classList.add('active');
    }

    // å•Ÿå‹• App
    init();

</script>
</body>
</html>
