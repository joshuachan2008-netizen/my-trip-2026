<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å—ç¾å¤§å†’éšª 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #d97b56; /* å†’éšªæ©™è‰² */
            --secondary-color: #2c3e50; /* æ·±è—è‰² */
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --light-text: #888;
            --tag-bg-flight: #e3f2fd; --tag-text-flight: #1976d2;
            --tag-bg-stay: #f3e5f5; --tag-text-stay: #7b1fa2;
            --tag-bg-activity: #e8f5e9; --tag-text-activity: #388e3c;
            --tag-bg-transport: #fff3e0; --tag-text-transport: #f57c00;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            color: var(--text-color);
            padding-bottom: 90px;
        }

        /* Banner */
        .banner {
            position: relative;
            height: 220px;
            background: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1587595431973-160d0d94add1?q=80&w=2076&auto=format&fit=crop'); /* æ›¿æ›ç‚ºå—ç¾åœ–ç‰‡ */
            background-size: cover;
            background-position: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            color: white;
            padding: 24px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .banner h1 { margin: 0; font-size: 28px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .trip-subtitle { font-size: 14px; opacity: 0.9; margin-bottom: 8px; }
        .currency-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
            width: fit-content;
            margin-top: 8px;
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* Date Tabs */
        .date-tabs-container {
            position: sticky;
            top: 0;
            background: var(--bg-color);
            z-index: 100;
            padding: 10px 0;
            box-shadow: 0 4px 10px -5px rgba(0,0,0,0.1);
        }
        .date-tabs {
            display: flex;
            overflow-x: auto;
            padding: 0 16px;
            gap: 10px;
            scrollbar-width: none;
        }
        .date-tabs::-webkit-scrollbar { display: none; }
        .date-tab {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 10px 18px;
            text-align: center;
            min-width: 60px;
            flex-shrink: 0;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .date-tab.active {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(217, 123, 86, 0.3);
        }
        .date-tab .day { font-size: 12px; margin-bottom: 2px; opacity: 0.8; }
        .date-tab .date { font-weight: bold; font-size: 16px; }

        /* Timeline */
        .day-header {
            margin: 24px 20px 10px;
            font-weight: 800;
            font-size: 18px;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        .day-header::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 18px;
            background: var(--primary-color);
            margin-right: 10px;
            border-radius: 2px;
        }

        .timeline-item {
            display: flex;
            margin: 0 16px 16px;
        }
        .timeline-time {
            min-width: 50px;
            font-weight: 600;
            font-size: 13px;
            color: var(--light-text);
            padding-top: 14px;
            text-align: right;
            margin-right: 12px;
        }
        .activity-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 16px;
            flex-grow: 1;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            position: relative;
            border-left: 4px solid transparent;
        }
        /* Card Types */
        .type-flight { border-left-color: var(--tag-text-flight); }
        .type-stay { border-left-color: var(--tag-text-stay); }
        .type-activity { border-left-color: var(--tag-text-activity); }
        .type-transport { border-left-color: var(--tag-text-transport); }

        .activity-tag {
            display: inline-block;
            font-size: 11px;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 6px;
            margin-bottom: 6px;
        }
        .tag-flight { background: var(--tag-bg-flight); color: var(--tag-text-flight); }
        .tag-stay { background: var(--tag-bg-stay); color: var(--tag-text-stay); }
        .tag-activity { background: var(--tag-bg-activity); color: var(--tag-text-activity); }
        .tag-transport { background: var(--tag-bg-transport); color: var(--tag-text-transport); }

        .activity-title { font-weight: 700; font-size: 16px; margin-bottom: 4px; color: var(--text-color); }
        .activity-desc { font-size: 13px; color: var(--light-text); line-height: 1.4; }
        .activity-cost {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 12px;
            font-weight: 600;
            color: var(--primary-color);
            background: #fff5eb;
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Bookings Page Styles */
        .flight-card {
            background: white;
            border-radius: 16px;
            margin: 16px;
            padding: 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow: hidden;
            display: flex;
        }
        .flight-info { padding: 16px; flex-grow: 1; }
        .flight-header-row { display: flex; justify-content: space-between; margin-bottom: 12px; }
        .airline { font-weight: bold; color: var(--secondary-color); display: flex; align-items: center; gap: 6px; }
        .flight-route-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
        .airport-code { font-size: 24px; font-weight: 800; color: var(--secondary-color); }
        .flight-line { flex-grow: 1; height: 1px; background: #ddd; margin: 0 10px; position: relative; }
        .flight-line i { position: absolute; top: -8px; left: 50%; transform: translateX(-50%); color: #ccc; font-size: 14px; }
        .flight-time-row { display: flex; justify-content: space-between; font-size: 12px; color: var(--light-text); }
        .flight-pass {
            width: 50px;
            background: #f8f9fa;
            border-left: 2px dashed #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: #aaa;
            font-size: 11px;
        }

        /* Bottom Nav */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            padding: 12px 0 20px; /* Safe area for iPhone */
            border-top: 1px solid rgba(0,0,0,0.05);
            z-index: 1000;
        }
        .nav-item { text-align: center; color: #aaa; font-size: 11px; cursor: pointer; transition: color 0.2s; }
        .nav-item.active { color: var(--primary-color); }
        .nav-item i { display: block; font-size: 20px; margin-bottom: 4px; }
        
        .fab {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            width: 54px;
            height: 54px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            box-shadow: 0 4px 12px rgba(217, 123, 86, 0.4);
            z-index: 900;
        }

        /* Utils */
        .page { display: none; }
        .page.active { display: block; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="itinerary-page" class="page active">
        <div class="banner">
            <div class="trip-subtitle">88 Days Adventure</div>
            <h1>South America 2026</h1>
            <div class="currency-badge">
                <i class="fas fa-globe-americas"></i> MXN â€¢ BRL â€¢ USD
            </div>
        </div>

        <div class="date-tabs-container">
            <div class="date-tabs" id="dateTabs">
                </div>
        </div>

        <div id="itinerary-content" style="padding-bottom: 20px;">
            </div>
    </div>

    <div id="bookings-page" class="page">
        <div style="padding: 20px 20px 10px;">
            <h2 style="margin:0; color:var(--secondary-color);">æˆ‘çš„é è¨‚</h2>
        </div>
        
        <div style="display:flex; gap:10px; padding:0 20px 10px;">
            <span style="background:var(--secondary-color); color:white; padding:6px 12px; border-radius:15px; font-size:13px;">å…¨éƒ¨</span>
            <span style="background:white; color:#888; padding:6px 12px; border-radius:15px; font-size:13px; border:1px solid #eee;">æ©Ÿç¥¨</span>
            <span style="background:white; color:#888; padding:6px 12px; border-radius:15px; font-size:13px; border:1px solid #eee;">ä½å®¿</span>
        </div>

        <div id="bookings-content">
            </div>
    </div>

    <div class="fab"><i class="fas fa-plus"></i></div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchPage('itinerary')">
            <i class="fas fa-calendar-alt"></i>è¡Œç¨‹
        </div>
        <div class="nav-item" onclick="switchPage('bookings')">
            <i class="fas fa-ticket-alt"></i>é è¨‚
        </div>
        <div class="nav-item">
            <i class="fas fa-calculator"></i>åŒ¯ç‡
        </div>
        <div class="nav-item">
            <i class="fas fa-wallet"></i>è¨˜å¸³
        </div>
        <div class="nav-item">
            <i class="fas fa-users"></i>æˆå“¡
        </div>
    </div>

<script>
    // ============================================
    // 1. ä½ çš„è³‡æ–™åº« (åœ¨é€™è£¡ä¿®æ”¹æ‰€æœ‰è³‡æ–™ï¼)
    // ============================================
    
    // è¡Œç¨‹è³‡æ–™ (è«‹æ ¹æ“š PDF å…§å®¹åœ¨é€™è£¡æ–°å¢/ä¿®æ”¹)
    const itineraryData = [
        // --- å¢¨è¥¿å“¥ (Mexico) ---
        { date: "2026-01-28", time: "14:00", title: "æŠµé” Loreto & å–è»Š", type: "transport", tag: "äº¤é€š", cost: "$540", desc: "Alamo ç§Ÿè»Šï¼Œå‰å¾€ç°é¯¨æ‘ (Adolfo LÃ³pez Mateos)" },
        { date: "2026-01-28", time: "18:00", title: "Check-in: Lighthouse Guest House", type: "stay", tag: "ä½å®¿", cost: "", desc: "ä½ 2 æ™š (æœª Book)" },
        { date: "2026-01-29", time: "08:00", title: "ç§äººåŒ…èˆ¹çœ‹ç°é¯¨", type: "activity", tag: "æ´»å‹•", cost: "$4400", desc: "è¿‘è·é›¢æ¥è§¸ç°é¯¨ (4äºº Max)" },
        { date: "2026-01-30", time: "13:00", title: "é§•è»Šå‰å¾€ La Paz", type: "transport", tag: "äº¤é€š", cost: "", desc: "ä¸‹åˆå‡ºç™¼" },
        { date: "2026-01-31", time: "07:00", title: "èˆ‡é¯¨é¯Šå…±æ¸¸", type: "activity", tag: "æ´»å‹•", cost: "$3200", desc: "La Paz æ—©æ™¨æ´»å‹•" },
        { date: "2026-02-01", time: "08:25", title: "é£›å¾€ å¢¨è¥¿å“¥åŸ (MEX)", type: "flight", tag: "é£›è¡Œ", cost: "$1388", desc: "AM 363 (08:25-11:45)" },
        { date: "2026-02-01", time: "14:00", title: "Check-in: Hotel Geneve", type: "stay", tag: "ä½å®¿", cost: "", desc: "æ¼«æ­¥ Roma å€" },
        { date: "2026-02-04", time: "09:00", title: "ç‰¹å¥§è’‚ç“¦åé‡‘å­—å¡”", type: "activity", tag: "æ™¯é»", cost: "", desc: "Teotihuacan Pyramids" },
        { date: "2026-02-07", time: "09:00", title: "å¸ç‹è¶ä¿è­·å€", type: "activity", tag: "ä¸–ç•Œå¥‡è§€", cost: "", desc: "El Rosario (é¨é¦¬ä¸Šå±±)" },
        
        // --- å·´è¥¿ (Brazil) ---
        { date: "2026-02-15", time: "12:35", title: "é£›å¾€ è–ä¿ç¾… (GRU)", type: "flight", tag: "é•·é€”é£›è¡Œ", cost: "", desc: "AA264 (MIA è½‰æ©Ÿ)" },
        { date: "2026-02-16", time: "11:35", title: "é£›å¾€ Bonito", type: "flight", tag: "é£›è¡Œ", cost: "$536", desc: "LA3886" },
        { date: "2026-02-17", time: "09:00", title: "Rio Sucuri æ¼‚æµæµ®æ½›", type: "activity", tag: "ç”Ÿæ…‹éŠ", cost: "", desc: "å°‹æ‰¾æ£®èšº/å½©é­š" },
        { date: "2026-02-21", time: "20:00", title: "å˜‰å¹´è¯å† è»éŠè¡Œ", type: "activity", tag: "ç››äº‹", cost: "", desc: "Rio Sambadrome (Sector 4)" },
        
        // --- äºé¦¬éœ (Amazon) ---
        { date: "2026-02-24", time: "08:00", title: "é€²å…¥ äºé¦¬éœé›¨æ—", type: "activity", tag: "æ¢éšª", cost: "", desc: "Lodge Day 1: æ²’è¨Šè™Ÿ" },
        
        // --- å¾©æ´»ç¯€å³¶ (Easter Island) ---
        { date: "2026-03-20", time: "08:35", title: "é£›å¾€ å¾©æ´»ç¯€å³¶", type: "flight", tag: "é£›è¡Œ", cost: "$1695", desc: "SCL -> IPC (LA841)" },
        { date: "2026-03-21", time: "09:00", title: "æ‘©è‰¾çŸ³åƒæ—¥å‡º", type: "activity", tag: "æ‰“å¡", cost: "", desc: "Tongariki" },
        
        // --- ä¼Šç“œè˜‡ (Iguazu) ---
        { date: "2026-03-26", time: "06:50", title: "é£›å¾€ ä¼Šç“œè˜‡", type: "flight", tag: "é—œéµç›´èˆª", cost: "$874", desc: "JetSmart JA780" },
        { date: "2026-03-29", time: "09:00", title: "é­”é¬¼å’½å–‰æ­¥é“", type: "activity", tag: "æ™¯é»", cost: "", desc: "é˜¿æ ¹å»·å´" }
    ];

    // é è¨‚è³‡æ–™
    const bookingsData = [
        { type: "flight", airline: "Aeromexico", code: "AM 363", from: "LTO", to: "MEX", date: "01 Feb", time: "08:25 - 11:45" },
        { type: "flight", airline: "American", code: "AA 264", from: "MEX", to: "GRU", date: "15 Feb", time: "12:35 - 06:20(+1)" },
        { type: "flight", airline: "LATAM", code: "LA 3886", from: "GRU", to: "CGR", date: "16 Feb", time: "11:35 - 12:20" },
        { type: "flight", airline: "LATAM", code: "LA 841", from: "SCL", to: "IPC", date: "20 Mar", time: "08:35 - 12:00" },
        { type: "hotel", name: "Hotel Geneve", loc: "Mexico City", date: "01-06 Feb", desc: "5 Nights" },
        { type: "hotel", name: "El Santuario", loc: "Valle de Bravo", date: "08-10 Feb", desc: "Luxury Resort" }
    ];

    // ============================================
    // 2. è‡ªå‹•ç”Ÿæˆé‚è¼¯ (ä¸ç”¨å‹•)
    // ============================================

    // ç”Ÿæˆæ—¥æœŸ Tabs (å¾ 1æœˆ28æ—¥ åˆ° 4æœˆ2æ—¥)
    function generateDateTabs() {
        const container = document.getElementById('dateTabs');
        const startDate = new Date('2026-01-28');
        const endDate = new Date('2026-04-02');
        
        let currentDate = startDate;
        const days = ['é€±æ—¥','é€±ä¸€','é€±äºŒ','é€±ä¸‰','é€±å››','é€±äº”','é€±å…­'];

        while (currentDate <= endDate) {
            const dateStr = currentDate.toISOString().split('T')[0]; // YYYY-MM-DD
            const dayName = days[currentDate.getDay()];
            const displayDate = `${currentDate.getDate()}/${currentDate.getMonth()+1}`;

            const tab = document.createElement('div');
            tab.className = 'date-tab';
            tab.onclick = () => scrollToDate(dateStr);
            tab.id = `tab-${dateStr}`;
            tab.innerHTML = `<div class="day">${dayName}</div><div class="date">${displayDate}</div>`;
            
            container.appendChild(tab);
            
            // åŠ ä¸€å¤©
            currentDate.setDate(currentDate.getDate() + 1);
        }
        // é è¨­æ¿€æ´»ç¬¬ä¸€å€‹
        document.getElementById('tab-2026-01-28').classList.add('active');
    }

    // æ¸²æŸ“è¡Œç¨‹è¡¨
    function renderItinerary() {
        const container = document.getElementById('itinerary-content');
        let currentHeaderDate = '';

        // æŒ‰æ—¥æœŸæ’åº (ä¿éšªèµ·è¦‹)
        itineraryData.sort((a,b) => new Date(a.date) - new Date(b.date));

        itineraryData.forEach(item => {
            // å¦‚æœæ˜¯æ–°çš„ä¸€å¤©ï¼ŒåŠ å…¥æ—¥æœŸæ¨™é¡Œ (Anchor)
            if (item.date !== currentHeaderDate) {
                const dateObj = new Date(item.date);
                const dateHeader = document.createElement('div');
                dateHeader.className = 'day-header';
                dateHeader.id = `date-${item.date}`; // Anchor ID
                dateHeader.innerText = `${item.date} ${dateObj.toLocaleDateString('zh-Hant', {weekday:'long'})}`;
                container.appendChild(dateHeader);
                currentHeaderDate = item.date;
            }

            // æ¸²æŸ“å¡ç‰‡
            const card = document.createElement('div');
            card.className = 'timeline-item';
            
            let tagClass = 'tag-activity';
            let borderClass = 'type-activity';
            if(item.type === 'flight') { tagClass = 'tag-flight'; borderClass = 'type-flight'; }
            if(item.type === 'stay') { tagClass = 'tag-stay'; borderClass = 'type-stay'; }
            if(item.type === 'transport') { tagClass = 'tag-transport'; borderClass = 'type-transport'; }

            card.innerHTML = `
                <div class="timeline-time">${item.time}</div>
                <div class="activity-card ${borderClass}">
                    ${item.cost ? `<div class="activity-cost">${item.cost}</div>` : ''}
                    <span class="activity-tag ${tagClass}">${item.tag}</span>
                    <div class="activity-title">${item.title}</div>
                    <div class="activity-desc">${item.desc}</div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // æ¸²æŸ“é è¨‚é 
    function renderBookings() {
        const container = document.getElementById('bookings-content');
        bookingsData.forEach(item => {
            const card = document.createElement('div');
            card.className = 'flight-card';

            if (item.type === 'flight') {
                card.innerHTML = `
                    <div class="flight-info">
                        <div class="flight-header-row">
                            <div class="airline"><i class="fas fa-plane"></i> ${item.airline}</div>
                            <div style="font-weight:bold;">${item.code}</div>
                        </div>
                        <div class="flight-route-row">
                            <div class="airport-code">${item.from}</div>
                            <div class="flight-line"><i class="fas fa-plane"></i></div>
                            <div class="airport-code">${item.to}</div>
                        </div>
                        <div class="flight-time-row">
                            <div>${item.date}</div>
                            <div>${item.time}</div>
                        </div>
                    </div>
                    <div class="flight-pass">
                        <i class="fas fa-qrcode" style="font-size:24px; margin-bottom:4px;"></i>
                    </div>
                `;
            } else {
                card.innerHTML = `
                    <div class="flight-info">
                        <div class="flight-header-row">
                            <div class="airline" style="color:#7b1fa2;"><i class="fas fa-hotel"></i> ${item.name}</div>
                        </div>
                        <div style="font-size:14px; margin-bottom:4px;">ğŸ“ ${item.loc}</div>
                        <div style="font-size:12px; color:#888;">${item.date} â€¢ ${item.desc}</div>
                    </div>
                    <div class="flight-pass">
                         <i class="fas fa-bed" style="font-size:20px;"></i>
                    </div>
                `;
            }
            container.appendChild(card);
        });
    }

    // é é¢æ»¾å‹•é‚è¼¯
    function scrollToDate(dateStr) {
        // æ›´æ–° Tab ç‹€æ…‹
        document.querySelectorAll('.date-tab').forEach(t => t.classList.remove('active'));
        const tab = document.getElementById(`tab-${dateStr}`);
        if(tab) tab.classList.add('active');

        // æ»¾å‹•åˆ°å°æ‡‰çš„æ—¥æœŸæ¨™é¡Œ
        const element = document.getElementById(`date-${dateStr}`);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            // å› ç‚ºæœ‰ Sticky Headerï¼Œéœ€è¦å‘ä¸‹èª¿æ•´ä¸€é»
            window.scrollBy(0, -180); 
        }
    }

    // é é¢åˆ‡æ›
    function switchPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId + '-page').classList.add('active');
        
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        // ç°¡å–®åˆ¤å®š Active ç‹€æ…‹
        const navIndex = pageId === 'itinerary' ? 0 : 1;
        document.querySelectorAll('.nav-item')[navIndex].classList.add('active');
    }

    // åˆå§‹åŒ–
    generateDateTabs();
    renderItinerary();
    renderBookings();

</script>
</body>
</html>
